<!DOCTYPE html>
<html>
    <head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <!-- Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
   <!-- Bootstrap JavaScript -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
   <!-- My CSS -->
   <link href="/static/css/style.css" rel="stylesheet" type="text/css"/>
   <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script> 
   <title>Short Link | Home</title>        
    </head>
    <body>
        <br>
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">Short Link</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
          </nav>

          <div class="container">
            <div class="row">
              <div class="col d-flex justify-content-center align-items-center">
                <div class="box">
                  <p class="box-title"><i class="fa-solid fa-link" style="padding-right: 10px;"></i>Shorten a Long URL</p>
                  <hr style="color: #000;">

                  <div class="box-text-label">Your Long URL</div>
                  <div class="fake-text-box">{{ long_url }} </div>
                  <br>
                  <div class="box-text-label" id="shortLink">Short URL</div>
                  <div class="fake-text-box" id="content-to-copy" style="color: green;">shortlink/{{ shortcode }} </div>

                  <button class="copy-button" id="copy-button">Copy Link</button>

                </div>

              </div>
            </div>
          </div>


    </body>
    <script>
      document.getElementById('copy-button').addEventListener('click', function () {
          // Get the text content of the div
          var contentToCopy = document.getElementById('content-to-copy').textContent;

          // Create a new textarea element to temporarily hold the text
          var textarea = document.createElement('textarea');
          textarea.value = contentToCopy;

          // Append the textarea element to the document
          document.body.appendChild(textarea);

          // Select the text in the textarea
          textarea.select();
          textarea.setSelectionRange(0, 99999); // For mobile devices

          // Copy the selected text to the clipboard
          document.execCommand('copy');

          // Remove the temporary textarea
          document.body.removeChild(textarea);

          // Provide feedback to the user (optional)
          alert('Copied to clipboard: ' + contentToCopy);
      });

    </script>
    <script src="https://kit.fontawesome.com/a72666f150.js" crossorigin="anonymous"></script>

</html>